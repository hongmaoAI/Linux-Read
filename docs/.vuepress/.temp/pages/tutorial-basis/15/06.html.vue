<template><div><h1 id="本章习题" tabindex="-1"><a class="header-anchor" href="#本章习题"><span>本章习题</span></a></h1>
<ul>
<li>
<p>一个 ping.sh 脚本，让系统每 3 分钟执行一次，但是该文件有很多信息显示出来，所以 root 账户每天都会受到差不多 400 封信件，如果设置？</p>
<p>这个要看你是否需要这些信息，如果不需要丢弃即可，如下</p>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">*/3 * * * * root /usr/local/ping.sh <span class="token operator">></span> /dev/null <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&amp;1</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div></li>
<li>
<p>预计在 2021 年 2 月 14 日寄出一封信给 kiki，只在该年份才寄出，如何设置？</p>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line">at lam <span class="token number">2016</span>-02-14</span>
<span class="line"><span class="token comment"># 这个貌似有问题吧？选项不是需要 - 来？</span></span>
<span class="line"><span class="token comment"># -l 列出 at 的工作列表</span></span>
<span class="line"><span class="token comment"># -m 只要任务执行完成，就发送邮件给使用者</span></span>
<span class="line"><span class="token comment"># 那么这个 a 是什么意思？</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>
<li>
<p>执行 <code v-pre>crontab -c</code> 后，输入这一行 <code v-pre>* 15 * * 1-5 /usr/local/bin/tea_time.sh</code></p>
<p>每星期 1~5 的 15 点，开始每分钟执行一次，共执行 60 次 tea.time.sh 脚本</p>
</li>
<li>
<p>用 vi 编辑 <code v-pre>/etc/crontab</code> 文件，<code v-pre>25 00 * * 0 /usr/local/bin/backup.sh</code> 含义是什么？</p>
<p>语法错误了，在该文件中的每一行都需要有执行者</p>
</li>
<li>
<p>您的系统每天、每周、每个月各有进行什么工作？</p>
<p>因为 CentOS 系统默认的定时任务都放置在 <code v-pre>/etc/cron.*</code> 中，所以可以自行去 <code v-pre>/etc/cron.daily、/etc/cron.week、/etc/cron.mounthly</code> 目录内查看执行了哪些任务</p>
</li>
<li>
<p>每个星期 6 凌晨  3 点去系统搜索有  SUID/SGID 的任何文件，并将结果输出到 <code v-pre>/tmp/uidgid.files</code></p>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code class="language-bash"><span class="line"><span class="token function">vi</span> /etc/crontab</span>
<span class="line"><span class="token number">0</span> <span class="token number">3</span> * * <span class="token number">6</span> root <span class="token function">find</span> / <span class="token parameter variable">-perm</span> /6000 <span class="token operator">></span>tmp/uidgid.files</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div></li>
</ul>
</div></template>


