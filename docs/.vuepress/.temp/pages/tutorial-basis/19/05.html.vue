<template><div><h1 id="重点回顾" tabindex="-1"><a class="header-anchor" href="#重点回顾"><span>重点回顾</span></a></h1>
<ul>
<li>Linux 不可随意关机，否则容易造成文件系统错乱或则其他无法开机的问题</li>
<li>开机流程主要是：BIOS、MBR、Loader、kernel+initramfs、systemd 等流程</li>
<li>Loader 具有提供选单、加载核心文件、转交控制权给其他 loader 等功能</li>
<li>boot loader 可以安装在 MBR 或则是每个分区槽的 boot sector 区域中</li>
<li>initramfs 可以提供核心在开机过程中所需要的最重要的模块，通常与磁盘及文件系统有关的模块</li>
<li>systemd 的配置文件主要来自  <code v-pre>/etc/systemd/system/default.target</code> 项目</li>
<li>额外的设备与模块对应，可写入 <code v-pre>/etc/modprobe.d/*.conf</code> 中</li>
<li>核心模块的管理可使用 lsmod、modinfo、rmmod、insmod、modprobe 等指令</li>
<li>modprobe 主要参考 <code v-pre>/lib/modules/$(uanem -r)/modules.dep</code> 的设置来加载与卸载核心模块</li>
<li>grub2 的配置文件与相关文件系统定义文件大多放再 <code v-pre>/boot/grub2</code> 目录中，配置文件名为 grub.cfg</li>
<li>grub2 对磁盘的代号设置与 Linux 不同，主要通过检测的顺序来设置。如 <code v-pre>(hd0) (hd0,1)</code> 等</li>
<li>grub.cfg 内每个选单与 menuentry 有关，而直接指定核心开机时，至少需要 linux16 以及 initrd16 等两个项目</li>
<li>grub.cfg 内设置 loader 控制权移交时，最重要的为 <code v-pre>chainloader+1</code> 配置</li>
<li>若想要重建 initramfs，可使用 dracut 或 mkinitrd 指令</li>
<li>重新安装 grub2 到 MBR 或 boot sector 时，可以利用 grub2-install 来处理</li>
<li>想要进入救援模式，可在开机选单过程中，在 linux16 的项目后加入 <code v-pre>rd.break</code> 或 <code v-pre>init=/bin/bash</code> 等方式进入</li>
<li>可以对 grub2 的个别选单设置不同的密码</li>
</ul>
</div></template>


